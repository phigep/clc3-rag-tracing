name: weav_test_pipeline
components:
  answer_builder:
    init_parameters:
      pattern: null
      reference_pattern: null
    type: haystack.components.builders.answer_builder.AnswerBuilder
  llm:
    init_parameters:
      api_base_url: null
      api_key:
        env_vars:
        - OPENAI_API_KEY
        strict: true
        type: env_var
      generation_kwargs: {}
      model: gpt-4o-mini
      organization: null
      streaming_callback: null
      system_prompt: null
    type: haystack.components.generators.openai.OpenAIGenerator
  prompt_builder:
    init_parameters:
      required_variables: null
      template: "\n    Given these documents, answer the question.\nDocuments:\n \
        \   {% for doc in documents %}\n        {{ doc.content }}\n    {% endfor %}\n\
        \n    \nQuestion: {{question}}\n    \nAnswer:\n    "
      variables: null
    type: haystack.components.builders.prompt_builder.PromptBuilder
  retriever:
    init_parameters:
      document_store:
        init_parameters:
          additional_config: null
          additional_headers: null
          auth_client_secret:
            init_parameters:
              api_key:
                env_vars:
                - WEAVIATE_API_KEY
                strict: true
                type: env_var
            type: api_key
          collection_settings:
            class: Default
            invertedIndexConfig:
              indexNullState: true
            properties:
            - dataType:
              - text
              name: _original_id
            - dataType:
              - text
              name: content
            - dataType:
              - text
              name: dataframe
            - dataType:
              - blob
              name: blob_data
            - dataType:
              - text
              name: blob_mime_type
            - dataType:
              - number
              name: score
          embedded_options: null
          url: https://unoysiymqho3qydpvd9edq.c0.europe-west3.gcp.weaviate.cloud
        type: haystack_integrations.document_stores.weaviate.document_store.WeaviateDocumentStore
      filter_policy: replace
      filters: {}
      top_k: 10
    type: haystack_integrations.components.retrievers.weaviate.bm25_retriever.WeaviateBM25Retriever
connections:
- receiver: prompt_builder.documents
  sender: retriever.documents
- receiver: answer_builder.documents
  sender: retriever.documents
- receiver: llm.prompt
  sender: prompt_builder.prompt
- receiver: answer_builder.replies
  sender: llm.replies
max_runs_per_component: 100
metadata: {}
